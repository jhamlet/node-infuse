
var plugins = require('infuse/plugins'),
    FS      = require('fs'),
    Path    = require('path'),
    INDEX_REGEX = /^index\.js$/;

//---------------------------------------------------------------------------
// @class Processor
// @implements Plugin
//---------------------------------------------------------------------------
module.exports = {
    
    type: 'processor',
    /**
     * Will the processor run based on the file path?
     * @property {Function} Processor.willRun
     *      @param {String} Processor.filepath
     *      @returns {Boolean}
     */
    willRun: function (filepath) {
        return Path.extname(filepath).toLowerCase() === this.extension;
    }
};

FS.readdirSync(__dirname).forEach(function (name) {
    if (!INDEX_REGEX.test(name)) {
        require(Path.join(__dirname, name));
    }
});
